<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
	"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg width="790" height="530" version="1.1" 
	xmlns="http://www.w3.org/2000/svg" 
	xmlns:xlink="http://www.w3.org/1999/xlink" 
	xmlns:jgralab="http://userpages.uni-koblenz.de/~ist/JGraLab" onload="init(evt)">
  <defs>
    <script type='text/ecmascript'><![CDATA[
      var svgdoc, navdoc;
      
      var vbX = -10;
      var vbY = -10;
      var vbW = 768;
      var vbH = 168;
      
      // bb* contains original viewBox
      var bbX = -10;
      var bbY = -10;
      var bbW = 768;
      var bbH = 168;
      
      var debug = 0;
      
      
      function init(evt) {
        svgdoc = evt.target.ownerDocument;
      
        navdoc = svgdoc.getElementById('nav');
      
        //debug = evt.getTarget().getOwnerDocument().getElementById('debug').getFirstChild();
      
        // read viewbox coords from navdoc; set to local variables
        var vbData = navdoc.getAttribute('viewBox').split(' ');
        bbX = parseInt(vbData[0]);
        bbY = parseInt(vbData[1]);
        bbW = parseInt(vbData[2]);
        bbH = parseInt(vbData[3]);
      }
      
      
      function zoom(evt) {
        if (evt.target.parentNode.getAttribute('id') == 'ZIn') {
          //debug.setData('ZIn!');
          vbW *= 0.95;
          vbH *= 0.95;
          updateViewBox(vbX, vbY, vbW, vbH);
        }
        else if (evt.target.parentNode.getAttribute('id') == 'ZOut') {
          //debug.setData('ZOut!');
          vbW *= 1.05;
          vbH *= 1.05;
          updateViewBox(vbX, vbY, vbW, vbH);
        }
        else if (evt.target.parentNode.getAttribute('id') == 'ZGraph') {
          updateViewBox(bbX, bbY, bbW, bbH);
          //debug.setData('ZGraph!');
        }
      }
      
      
      function updateViewBox(x, y, w, h) {
        vbX = x;
        vbY = y;
        vbW = w;
        vbH = h;
        navdoc.setAttribute('viewBox', x + ' ' + y + ' ' + w + ' ' + h);
        //debug.setData(navdoc.getAttribute('viewBox'));
      }
      
      
      function goLeft(evt) {
        vbX -= 50;
        navdoc.setAttribute('viewBox', vbX + ' ' + vbY + ' ' + vbW + ' ' + vbH);
      }
      function goRight(evt) {
        vbX += 50;
        navdoc.setAttribute('viewBox', vbX + ' ' + vbY + ' ' + vbW + ' ' + vbH);
      }
      function goUp(evt) {
        vbY -= 50;
        navdoc.setAttribute('viewBox', vbX + ' ' + vbY + ' ' + vbW + ' ' + vbH);
      }
      function goDown(evt) {
        vbY += 50;
        navdoc.setAttribute('viewBox', vbX + ' ' + vbY + ' ' + vbW + ' ' + vbH);
      }

    ]]></script>
  </defs>
  <g transform="translate(730, 175)" stroke='black' fill='lightgrey'>
    <path d="M -35   0 l +15 -15 l   0 +30 z" id="left" onclick='goLeft(evt)'/>
    <path d="M  35   0 l -15 -15 l   0 +30 z" id="right" onclick='goRight(evt)'/>
    <path d="M   0 -35 l +15 +15 l -30   0 z" id="up" onclick='goUp(evt)'/>
    <path d="M   0  35 l +15 -15 l -30   0 z" id="down" onclick='goDown(evt)'/>
  </g>
  <g id="ZoomControl" transform="translate(730, 30)" style="font:12 Arial" >
    <text text-anchor='middle'>Zoom:</text> 
    <g id='ZIn' onclick='zoom(evt)'> 
      <rect x='-40' y='6' width='80' height='14' fill='lightgrey' stroke='black'/> 
      <text y='18' text-anchor='middle'>in</text> 
    </g> 
    <g id='ZOut' onclick='zoom(evt)'> 
      <rect x='-40' y='24' width='80' height='14' fill='lightgrey' stroke='black'/> 
      <text y='36' text-anchor='middle'>out</text> 
    </g> 
    <g id='ZGraph' onclick='zoom(evt)'> 
      <rect x='-40' y='42' width='80' height='14' fill='lightgrey' stroke='black'/> 
      <text y='54' text-anchor='middle'>Graph</text> 
    </g>
  </g>
  <rect x="24" y="24" width="640" height="480" style="fill:none;stroke:rgb(0,0,0);" />
  <svg id="nav" width="640" height="480" version="1.1" viewBox="-10 -10 1458 1581" xmlns="http://www.w3.org/2000/svg" x="25" y="25">
   <!--  -->
  </svg>
</svg>
